sap.ui.define(["sap/ui/demo/cart/controller/Checkout.controller","sap/m/Button","sap/m/MessagePopover","sap/ui/core/Core"],function(e,t,o,n){"use strict";QUnit.module("CheckoutController",{beforeEach:function(){this.Checkout=new e;this.oEvent={getSource:function(){return new t}};sinon.stub(this.Checkout,"byId",function(){return undefined});sinon.stub(this.Checkout,"createId",function(e){return e});sinon.stub(this.Checkout,"_addDependent",function(){return true})},afterEach:function(){this.Checkout.destroy()}});QUnit.test("Should check if the destroy function of the message popover is called",function(e){var t=sinon.stub(o.prototype,"destroy");var s=this.Checkout.createId("messagePopover");this.Checkout.onShowMessagePopoverPress(this.oEvent);var u=n.byId(s);u.fireAfterClose();e.strictEqual(t.callCount,1,"The destroy function has been successfully called")})});